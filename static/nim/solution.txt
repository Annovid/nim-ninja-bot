Решение нима не поместится на нескольких строчках, поэтому можете почитать решение здесь:
https://e-maxx.ru/algo/sprague_grundy